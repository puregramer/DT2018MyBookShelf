"use strict";var $DT2017=$DT2017||{};$DT2017.store=function(){var e={initHeaderTabMenu:function(o){var t=$alt.ce({tag:"div","class":"headerTabMenu",targetElement:o.targetElement}),n=$alt.ce({tag:"div","class":"leftTabMenu",html:"디지털교과서",targetElement:t}),s=$alt.ce({tag:"div","class":"middleTabMenu",html:"학습 교재",targetElement:t}),l=$alt.ce({tag:"div","class":"rightTabMenu",html:"학습 보조 자료",targetElement:t});this.getIsExistHelpMaterialsList(function(){e.getlearningHelpMaterialsList().then(function(){e.getlearningMaterialsList().then(function(){o.targetElement.style.display=""})})}),this.addTopMenuEvent([n,s,l])},initView:function(e){console.log("~~> initView: ",$DT2017.core),$DT2017.view.appendBookContentsByListType({targetElement:e.targetElement,callBack:e.callBack,listType:$DT2017.core.currentListType,dataList:e.dataList})},addTopMenuEvent:function(e){e.forEach(function(o,t){o.addEventListener("click",function(n){var s=null;switch(t){case 0:s=$DT2017.core.contentsList,$DT2017.core.currentStoreCategory="dtContent";break;case 1:s=$DT2017.core.learningMaterialList,$DT2017.core.currentStoreCategory="material";break;case 2:s=$DT2017.core.learningHelpMaterialList,$DT2017.core.currentStoreCategory="helpMaterial"}console.log("~> targetList: ",s),e.forEach(function(e){e.style.backgroundColor="#a5afc9",e.style.color="#fff"}),o.style.backgroundColor="#fff",o.style.color="#5b71d6",$DT2017.core.selectedBookCase.currentBookList=s,s?$DT2017.store.initView({targetElement:$DT2017.core.contentsArea,dataList:$DT2017.core.selectedBookCase.currentBookList,callBack:function(){console.log("--> store init callback ..."),$DT2017.responsive.enchantResponsive({responsivePointMobile:505,responsivePointTablet:770})}}):$DT2017.store.emptyStore()})})},setIconStyle:function(e){var o="",t="";switch(e.type.toLowerCase().trim()){case"dtpcontents":case"zip":o="교과서",t="#976ab6";break;case"epub":o="전자책",t="#218aad";break;case"pdf":o="PDF",t="#e66059"}return{label:o,colorCode:t}},getSubBookList:function(e){switch(console.log("~> getSubBookList: ",e),e.type.toLowerCase().trim()){case"dtpcontents":console.log("%c ▶▷ [Native API] getStoreSubBookList ","color:#ff6600");var o={apiName:"getStoreSubBookList",parameters:{fullBookId:e.bookId,contentsSeq:e.contentsSeq},callBack:"getStoreSubBookListCallBack"};window[o.callBack]=function(t){e.callBack(t),delete window[o.callBack]},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{fullBookId:"frun:uuid:45adcf6f-67ba-5da3-8629-cfa76e6278aa",epubItem:[{subBookId:"urn:uuid:361b7e67-d0e6-576a-a5f7-a4f51b8962f0",downloadUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/sub_E3_KOR01_160923.epub?px-time=1504681403&px-hash=7f33e90f70cd8269bc2959a4f86fe774",title:" sub01 ",lesson:"Lesson 1 Hi, I'm Sena",coverImage:"https://st.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/coverimages/book_001.png",isDownload:"no",epubItemId:"book_001",commonVolume:"40285694",subVolume:"191176240",downloadCommonUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/common.zip?px-time=1504681403&px-hash=5a8617d96f5219276f490d1a3f63b8c2"},{subBookId:"urn:uuid:47606ed4-d8ed-57c1-bc44-423217c53360",downloadUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/sub_E3_KOR02_160923.epub?px-time=1504681403&px-hash=933f9dde6e67e23588821bcaeadb93a7",title:" sub02 ",lesson:"Lesson 2 What's This?",coverImage:"https://st.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/coverimages/book_002.png",isDownload:"no",epubItemId:"book_002",commonVolume:"40285694",subVolume:"178235751",downloadCommonUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/common.zip?px-time=1504681403&px-hash=5a8617d96f5219276f490d1a3f63b8c2"},{subBookId:"urn:uuid:0cd4b15b-8447-5d51-a82f-3125eed4267a",downloadUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/sub_E3_KOR03_160923.epub?px-time=1504681403&px-hash=73cba6d42d0517416c52d49533b0dc86",title:" sub03 ",lesson:"Lesson 3 Open the Box, Please",coverImage:"https://st.edunet.net/uploadfiles/cyber/2215/83C9E42A-4249-2A48-D8E6-A6CE083EF9C8/coverimages/book_003.png",isDownload:"yes",epubItemId:"book_003",commonVolume:"40285694",subVolume:"178815843",downloadCommonUrl:"http://cydn.edunet.net/uploadfiles/cyber/2215/common.zip?px-time=1504681403&px-hash=5a8617d96f5219276f490d1a3f63b8c2"}]}})},1e3);break;case"zip":if(console.log("~> $DT2017.core.currentStoreCategory: ",$DT2017.core.currentStoreCategory),"material"===$DT2017.core.currentStoreCategory){console.log("%c ▶▷ [Native API] getlearningMaterialsListDetail ","color:#ff6600");var o={apiName:"getlearningMaterialsListDetail",parameters:{fullBookId:e.bookId,contentsSeq:e.contentsSeq},callBack:"getlearningMaterialsListDetailCallBack"};window[o.callBack]=function(t){e.callBack(t),delete window[o.callBack]},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{fullBookId:"furn:uuid:9e59f1d6-6b49-6f1b-8455-d36926e293a7",contentsSeq:2585,epubItem:[{lesson:"Lesson 1 Hi, I'm Sena",title:" Lesson01 ",subBookId:"urn:uuid:42745d86-50fb-6bec-8497-6c3247033bc7",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson01.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_002.jpg",subVolume:"191194720",epubItemId:"book_002",isDownload:"no"},{lesson:"Lesson 2 What's This?",title:" Lesson02 ",subBookId:"urn:uuid:c91f5054-9156-6752-bc0e-120011dfa64e",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson02.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_003.jpg",subVolume:"178253321",epubItemId:"book_003",isDownload:"yes"},{lesson:"Lesson 3 Open the Box, Please",title:" Lesson03 ",subBookId:"urn:uuid:769e0fb1-6a47-66ca-b7a7-f06a2320465e",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson03.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_004.jpg",subVolume:"178834243",epubItemId:"book_004",isDownload:"no"},{lesson:"Lesson 4 Do You Like Apples?",title:" Lesson04 ",subBookId:"urn:uuid:779cb2cd-9526-6fac-a20e-56281a54354b",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson04.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_005.jpg",subVolume:"196056542",epubItemId:"book_005",isDownload:"no"},{lesson:"Lesson 5 How Many Dogs?",title:" Lesson05 ",subBookId:"urn:uuid:b705e84e-9494-668b-a647-989624ff44d9",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson05.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_006.jpg",subVolume:"186817481",epubItemId:"book_006",isDownload:"no"},{lesson:"Lesson 6 Do You Have a Ruler?",title:" Lesson06 ",subBookId:"urn:uuid:9956e719-f408-6b0c-ad4e-de3b64e82ea1",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson06.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_007.jpg",subVolume:"233183425",epubItemId:"book_007",isDownload:"no"},{lesson:"Lesson 7 Can You Swim?",title:" Lesson07 ",subBookId:"urn:uuid:3ec15593-63e4-6aa3-b106-d47c523b82ce",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson07.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_008.jpg",subVolume:"175462506",epubItemId:"book_008",isDownload:"no"},{lesson:"Lesson 8 Don't Run, Please",title:" Lesson08 ",subBookId:"urn:uuid:0c8a0e17-e1c2-6981-b4e4-733a641eb271",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson08.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_009.jpg",subVolume:"188664334",epubItemId:"book_009",isDownload:"no"},{lesson:"Lesson 9 Who Is She?",title:" Lesson09 ",subBookId:"urn:uuid:07b49f63-e859-6fd5-b085-661ddfc86c56",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson09.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_010.jpg",subVolume:"156738823",epubItemId:"book_010",isDownload:"no"},{lesson:"Lesson 10 What Color Is It?",title:" Lesson10 ",subBookId:"urn:uuid:78e6054f-63c6-6961-b38e-4b4ad8b73563",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson10.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_011.jpg",subVolume:"198090618",epubItemId:"book_011",isDownload:"no"},{lesson:"Lesson 11 How Old Are You?",title:" Lesson11 ",subBookId:"urn:uuid:24b7ed61-aa4a-69e3-9e0c-88a11c382ad5",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson11.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_012.jpg",subVolume:"162175152",epubItemId:"book_012",isDownload:"no"},{lesson:"Lesson 12 How's the Weather?",title:" Lesson12 ",subBookId:"urn:uuid:d3b1b8cf-2596-66b8-b911-26ddb675dc8f",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson12.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_013.jpg",subVolume:"250117752",epubItemId:"book_013",isDownload:"no"},{lesson:"부록",title:" Appendix ",subBookId:"urn:uuid:1ea624ec-54c8-610b-99e8-20d39e4d2527",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Appendix.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_014.jpg",subVolume:"6212775",epubItemId:"book_014",isDownload:"no"}]}})},1e3)}else if("helpMaterial"===$DT2017.core.currentStoreCategory){console.log("%c ▶▷ [Native API] getlearningHelpMaterialsListDetail ","color:#ff6600");var o={apiName:"getlearningHelpMaterialsListDetail",parameters:{fullBookId:e.bookId,contentsSeq:e.contentsSeq},callBack:"getlearningHelpMaterialsListDetailCallBack"};window[o.callBack]=function(t){e.callBack(t),delete window[o.callBack]},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{fullBookId:"furn:uuid:9e59f1d6-6b49-6f1b-8455-d36926e293a7",contentsSeq:2585,epubItem:[{lesson:"보조자료 Lesson 1 Hi, I'm Sena",title:" Lesson01 ",subBookId:"urn:uuid:42745d86-50fb-6bec-8497-6c3247033bc7",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson01",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_002.jpg",subVolume:"191194720",epubItemId:"book_002",isDownload:"no"},{lesson:"Lesson 2 What's This?",title:" Lesson02 ",subBookId:"urn:uuid:c91f5054-9156-6752-bc0e-120011dfa64e",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson02.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_003.jpg",subVolume:"178253321",epubItemId:"book_003",isDownload:"yes"},{lesson:"Lesson 3 Open the Box, Please",title:" Lesson03 ",subBookId:"urn:uuid:769e0fb1-6a47-66ca-b7a7-f06a2320465e",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson03.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_004.jpg",subVolume:"178834243",epubItemId:"book_004",isDownload:"no"},{lesson:"Lesson 4 Do You Like Apples?",title:" Lesson04 ",subBookId:"urn:uuid:779cb2cd-9526-6fac-a20e-56281a54354b",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson04.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_005.jpg",subVolume:"196056542",epubItemId:"book_005",isDownload:"no"},{lesson:"Lesson 5 How Many Dogs?",title:" Lesson05 ",subBookId:"urn:uuid:b705e84e-9494-668b-a647-989624ff44d9",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson05.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_006.jpg",subVolume:"186817481",epubItemId:"book_006",isDownload:"no"},{lesson:"Lesson 6 Do You Have a Ruler?",title:" Lesson06 ",subBookId:"urn:uuid:9956e719-f408-6b0c-ad4e-de3b64e82ea1",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson06.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_007.jpg",subVolume:"233183425",epubItemId:"book_007",isDownload:"no"},{lesson:"Lesson 7 Can You Swim?",title:" Lesson07 ",subBookId:"urn:uuid:3ec15593-63e4-6aa3-b106-d47c523b82ce",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson07.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_008.jpg",subVolume:"175462506",epubItemId:"book_008",isDownload:"no"},{lesson:"Lesson 8 Don't Run, Please",title:" Lesson08 ",subBookId:"urn:uuid:0c8a0e17-e1c2-6981-b4e4-733a641eb271",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson08.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_009.jpg",subVolume:"188664334",epubItemId:"book_009",isDownload:"no"},{lesson:"Lesson 9 Who Is She?",title:" Lesson09 ",subBookId:"urn:uuid:07b49f63-e859-6fd5-b085-661ddfc86c56",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson09.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_010.jpg",subVolume:"156738823",epubItemId:"book_010",isDownload:"no"},{lesson:"Lesson 10 What Color Is It?",title:" Lesson10 ",subBookId:"urn:uuid:78e6054f-63c6-6961-b38e-4b4ad8b73563",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson10.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_011.jpg",subVolume:"198090618",epubItemId:"book_011",isDownload:"no"},{lesson:"Lesson 11 How Old Are You?",title:" Lesson11 ",subBookId:"urn:uuid:24b7ed61-aa4a-69e3-9e0c-88a11c382ad5",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson11.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_012.jpg",subVolume:"162175152",epubItemId:"book_012",isDownload:"no"},{lesson:"Lesson 12 How's the Weather?",title:" Lesson12 ",subBookId:"urn:uuid:d3b1b8cf-2596-66b8-b911-26ddb675dc8f",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Lesson12.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_013.jpg",subVolume:"250117752",epubItemId:"book_013",isDownload:"no"},{lesson:"부록",title:" Appendix ",subBookId:"urn:uuid:1ea624ec-54c8-610b-99e8-20d39e4d2527",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/Appendix.epub",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",commonVolume:"15699729",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_014.jpg",subVolume:"6212775",epubItemId:"book_014",isDownload:"no"}]}})},1e3)}}},addStorePop:function(){$DT2017.notice.show({type:"confirm",title:"인증코드 입력",noticeText:"",buttonText:"확 인",clickEvent:function(){console.log("> clickEvent!");var e=$alt.qs("#storePopInput").value;return e?($DT2017.core.userInfo.storeCode=e,$DT2017.core.userInfo.isSaveStoreCode=$alt.qs(".storeCodeCombo").getAttribute("data-selected"),void $DT2017.session.processStoreInit()):void $DT2017.notice.show({noticeText:"접속 코드를 입력하세요.",buttonText:"확 인",clickEvent:function(){console.log("> clickEvent!"),$DT2017.store.addStorePop()}})},noButtonText:"취소",noButtonEvent:function(){$DT2017.notice.hide(),$DT2017.apiBridge.goBookShelf()},callBack:function(e){var o=($alt.ce({tag:"div","class":"popInputLabel",html:"<br>",targetElement:e}),$alt.ce({tag:"input",id:"storePopInput",targetElement:e}));o.setAttribute("placeholder","인증코드를 입력하세요."),o.setAttribute("maxlength",30),o.addEventListener("keyup",function(e){console.log("- value.length: ",this.value.length),this.value.length>=30&&(this.value=this.value.substring(0,30))},!1),o.focus();var t=$alt.ce({tag:"div","class":"storeCodeComboBox",targetElement:e}),n=$alt.ce({tag:"img","class":"storeCodeCombo",src:"./images/subMenu/contentCheckbox_check.png",targetElement:t});$alt.ce({tag:"div","class":"storeCodeText",html:"인증코드 저장",targetElement:t});n.setAttribute("data-selected",!0),n.addEventListener("click",function(e){e.preventDefault();var o=this.getAttribute("data-selected");"false"===o?(this.src="./images/subMenu/contentCheckbox_check.png",this.setAttribute("data-selected",!0)):(this.src="./images/subMenu/contentCheckbox_normal.png",this.setAttribute("data-selected",!1))},!1);var s=$alt.ce({tag:"img","class":"storeCodeHistory",src:"./images/subMenu/storeCodeListIcon.png",targetElement:e});s.setAttribute("data-show",!1),s.addEventListener("click",function(e){e.preventDefault(),console.log("- storeCodeHistory!");var o=this.getAttribute("data-show");"false"===o?(l.style.display="block",this.setAttribute("data-show",!0)):(l.style.display="none",this.setAttribute("data-show",!1))},!1);var l=$alt.ce({tag:"div","class":"storeCodeListBox",targetElement:e});l.style.display="none",$DT2017.core.storeCodeList.forEach(function(e){var t=$alt.ce({tag:"div","class":"storeCodeListItem",html:e,targetElement:l});t.addEventListener("click",function(e){e.preventDefault(),o.value=this.innerHTML,l.style.display="none",s.setAttribute("data-show",!1)},!1)})}})},emptyStore:function(){var e=$alt.qs(".emptyBookShelfText");e.innerHTML="디지털교과서 서비스 대상이 아닙니다.",e.style.fontSize="20px";var o=$alt.qs(".emptyBookShelfSubText");o.innerHTML="디지털교과서 홈페이지(http://edunet.net)에서 <br> 서비스 과목 및 학년정보를 확인하시기 바랍니다.",o.style.fontSize="14px",$alt.qs(".emptyBookShelfButton").style.display="none"},getIsExistHelpMaterialsList:function(e){console.log("%c ▶▷ [Native API] getIsExistHelpMaterialsList ","color:#ff6600");var o={apiName:"getIsExistHelpMaterialsList",parameters:{serialNumber:$DT2017.core.userInfo?$DT2017.core.userInfo.storeCode:""},callBack:"getIsExistHelpMaterialsListCallBack"};window[o.callBack]=function(t){console.log("> ",t);var n=Object.keys(t);switch(n[0]){case"response":"yes"===t.response.existStatus.toLowerCase().trim()&&e&&e();break;case"error":}delete window[o.callBack]},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o));var t={response:{existStatus:"YES"}};setTimeout(function(){window[o.callBack](t)},500)},getlearningHelpMaterialsList:function(){return new Promise(function(e){console.log("%c ▶▷ [Native API] getlearningHelpMaterialsList ","color:#ff6600");var o={apiName:"getlearningHelpMaterialsList",parameters:{serialNumber:$DT2017.core.userInfo?$DT2017.core.userInfo.storeCode:""},callBack:"getlearningHelpMaterialsListCallBack"};window[o.callBack]=function(t){console.log("-> getlearningHelpMaterialsList callBack: ",t);var n=Object.keys(t);switch(n[0]){case"response":t.response.bookItem&&t.response.bookItem.forEach(function(e,o){$DT2017.core.learningHelpMaterialList.push($DT2017.core.convertMaterials(e))});break;case"error":}delete window[o.callBack],e()},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{bookItem:[{fullBookId:"furn:uuid:9e59f1d6-6b49-6f1b-8455-d36926e293a7",downloadCommonUrl:"http://file.st.edunet.net/2585/common.zip",downloadUrl:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696.zip",contentsSeq:2585,fullVolume:"2308553782",isDownload:"no",metadata:{gradeGroup:"초등학교",title:"보조자료 영어 3",description:"2015 개정 교육과정에 따른 초등학교 영어(3~4학년군) 3",subject:"EN",producer:"㈜와이비엠",rightsHolder:"㈜와이비엠",date:"2018-03-01T00:00:00Z",coverImage:"http://file.st.edunet.net/2585/8b455e9d-d017-4560-6479-135f5256c696/coverimages/book_001.jpg",schoolGrade:"3~4학년",publisher:"superadmin",creator:"최희경,서지연,문은혜,이미화,윤지영,박미애,조선형,이효진,박경희",courseName:"영어"}},{fullBookId:"urn:uuid:fca2229a-860a-6148-96fb-35eef8b43306",downloadCommonUrl:"",downloadUrl:"http://file.st.edunet.net/2598/4ec13564-4b36-4836-aec1-982ef5fe21e0.epub",contentsSeq:2598,fullVolume:"150715549",isDownload:"yes",metadata:{gradeGroup:"",title:"EPUB 타이틀",description:"EPUB 설명",subject:"",producer:"",rightsHolder:"",date:"2018-03-01T00:00:00Z",coverImage:"http://file.st.edunet.net/2598/4ec13564-4b36-4836-aec1-982ef5fe21e0/coverimages/book_001.png",schoolGrade:"",publisher:"",creator:"",courseName:""}},{fullBookId:"pdf:uuid:85ed4120-e060-6abe-b761-84f0dc873a76",downloadCommonUrl:"",downloadUrl:"http://file.st.edunet.net/2591/36e2404e-3d18-448d-d3ab-9328ef9126e2.pdf",contentsSeq:2591,fullVolume:"62033347",isDownload:"no",metadata:{gradeGroup:"",title:"PDF 타이틀",description:"PDF 설명",subject:"",producer:"",rightsHolder:"",date:"2018-03-01T00:00:00Z",coverImage:"http://file.st.edunet.net/2591/36e2404e-3d18-448d-d3ab-9328ef9126e2/coverimages/book_001.jpg",schoolGrade:"",publisher:"",creator:"",courseName:""}}]}})},100)})},getlearningMaterialsList:function(){return new Promise(function(e){console.log("%c ▶▷ [Native API] getlearningMaterialsList ","color:#ff6600");var o={apiName:"getlearningMaterialsList",parameters:{serialNumber:$DT2017.core.userInfo?$DT2017.core.userInfo.storeCode:""},callBack:"getlearningMaterialsListCallBack"};window[o.callBack]=function(t){console.log("-> getlearningMaterialsListCallBack: ",t);var n=Object.keys(t);switch(n[0]){case"response":t.response.bookItem&&t.response.bookItem.forEach(function(e,o){$DT2017.core.learningMaterialList.push($DT2017.core.convertMaterials(e))});break;case"error":}delete window[o.callBack],e()},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{bookItem:[]}})},500)})},downloadMaterial:function(e){console.log("%c ▶▷ [Native API] downloadMaterial ","color:#ff6600"),console.log("~~> bookData: ",e);var o={apiName:"downloadMaterial",parameters:{title:e.metadata.title,bookId:e.bookId,contentsSeq:e.contentsSeq,downloadUrl:e.downloadUrl,fullVolume:e.fullVolume},callBack:"downloadMaterialCallBack"};window[o.callBack]=function(e){console.log("> ",e);var t=Object.keys(e);switch(t[0]){case"response":"yes"===e.response.isDownload.toLowerCase().trim()&&$DT2017.notice.show({type:"confirm",title:"내려받기 완료",noticeText:"<br><br>다운로드가 완료되었습니다!",buttonText:"내 서재 이동",clickEvent:function(){console.log("> clickEvent!"),$DT2017.apiBridge.goBookShelf(),$DT2017.notice.hide()},noButtonText:"닫기",noButtonEvent:function(){$DT2017.notice.hide()}});break;case"error":$DT2017.notice.show({noticeText:e.error,buttonText:"확 인",clickEvent:function(){console.log("> clickEvent!"),$DT2017.notice.hide()}})}delete window[o.callBack]},$DT2017.apiBridge.sendMessageToNative(o.apiName,JSON.stringify(o)),setTimeout(function(){window[o.callBack]({response:{isDownload:"YES"}})},100)}};return e}();