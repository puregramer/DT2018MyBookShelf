"use strict";var $DT2017=$DT2017||{};$DT2017.responsive=function(){var e={screenSize:{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},update:function(){this.screenSize.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.screenSize.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},responsivePoint:{},responsivePointHiDPI:{smallMobile:667,mobile:768,tablet:1024,mobileHeight:375},enchantResponsive:function(e){console.log("--> enchantResponsive ...");var t=this;t.responsivePoint=e,t.processResponsive(t,e),e.callBack&&e.callBack()},processResponsive:function(e,t){var i=$DT2017.core.contentsArea;i.style.height=this.screenSize.height-95+"px",this.setResponsiveForHeader(e,t),"image"===$DT2017.core.currentListType?this.responsiveThumbnailImageType(e,t):this.responsiveThumbnailListType(e,t),$DT2017.core.isShowingBookDetailView&&this.responsiveBookDetailViewHiDPI(),$DT2017.core.isShowingSlide&&this.responsiveSlide(e,t),this.responsiveEmptyBookShelfContainer(),this.checkLayerPopup(),this.setAutoCenterAlign($alt.qs(".booksContainer"))},setAutoCenterAlign:function(e){console.log("--> currentListType : ",$DT2017.core.currentListType);var t=$alt.qs(".bookThumbnailBox");if("image"===$DT2017.core.currentListType&&null!==t){var i=e.clientWidth/(t.clientWidth+$DT2017.core.currentLeftMargin),l=Math.floor(i),s=($DT2017.core.selectedBookCase.currentBookList.length,(t.clientWidth+$DT2017.core.currentLeftMargin)*l),o=e.clientWidth-s;console.log("--> thumbnailCount: ",i),console.log("====>>",Math.floor(i)),console.log("--> thumbnailCountString: ",l),console.log("--> leftMaring: ",o),e.style.left=o/2+"px"}},setResponsiveForHeader:function(e,t){switch(console.log("--$> responsiveTopMenubar ..."),$DT2017.core.currentPageMode){case"bookShelf":var i=$alt.qs(".topMenubarBottomShelfListText"),l=$alt.qs(".previewLeftBookCase"),s=$alt.qs(".previewRightBookCase");e.screenSize.width<t.responsivePointMobile?(i.style.width="170px",l.style.left="28px",l.style.width="50px",s.style.right="28px",s.style.width="50px"):e.screenSize.width>=t.responsivePointMobile&&e.screenSize.width<=t.responsivePointTablet?(i.style.width="250px",l.style.left="40px",l.style.width="80px",s.style.right="40px",s.style.width="80px"):(e.screenSize.width>=1280?(l.style.width="auto",s.style.width="auto"):(l.style.width="200px",s.style.width="200px"),i.style.width="100%",l.style.left="50px",s.style.right="50px");break;case"store":var o=$alt.qs(".leftTabMenu"),n=$alt.qs(".middleTabMenu"),r=$alt.qs(".rightTabMenu"),p=e.screenSize.width/3-1;o.style.width=p+"px",n.style.width=p+"px",r.style.width=p+"px"}},checkLayerPopup:function(){$DT2017.layerPop.remove()},responsiveThumbnailImageType:function(e,t){var i,l,s=$alt.qsa(".bookThumbnailBox"),o=$alt.qsa(".bookDetailButton"),n=$alt.qsa(".bookTitle"),r=$alt.qsa(".bookTitleText"),p=$alt.qsa(".bookThumbnailImage"),a=$alt.qsa(".bookDetailIcon");$alt.qsa(".bookScrapButton");if(e.screenSize.width<t.responsivePointMobile)for(var h=0;h<s.length;h++)s[h].style.width="120px",p[h].style.width="119px",p[h].style.height="160px",s[h].style.margin="0px 15px 0px 15px",$DT2017.core.currentLeftMargin=30,o[h].style.top="-44px",o[h].style.height="35px",o[h].style.fontSize="13px",o[h].style.lineHeight="28px",i=o[h].querySelector(".bookDetailInfo"),i&&(i.style.fontSize="10px",i.style.lineHeight="12px",i.style.width="80px"),l=o[h].querySelector(".bookDetailText"),l&&(l.style.lineHeight="13px",l.style.paddingTop="6px",l.style.paddingBottom="3px",l.style.paddingLeft="6px",l.style.right="5px"),n[h].style.top="-23px",r[h].style.fontSize="13px",a[h].style.width="13px";else for(var h=0;h<s.length;h++)s[h].style.width="150px",p[h].style.width="149px",p[h].style.height="200px",s[h].style.margin="0px 25px 0px 25px",$DT2017.core.currentLeftMargin=50,o[h].style.top="-54px",o[h].style.height="45px",o[h].style.fontSize="16px",o[h].style.lineHeight="38px",i=o[h].querySelector(".bookDetailInfo"),i&&(i.style.fontSize="12px",i.style.lineHeight="15px",i.style.width="100px"),l=o[h].querySelector(".bookDetailText"),l&&(l.style.lineHeight="15px",l.style.right="9px",l.style.paddingTop="9px",l.style.paddingBottom="6px",l.style.paddingLeft="9px"),n[h].style.top="-30px",r[h].style.fontSize="15px",a[h].style.width="16px"},responsiveThumbnailListType:function(e,t){for(var i,l,s=$alt.qsa(".bookThumbnailContainer"),o=$alt.qsa(".bookDescription"),n=$alt.qsa(".bookThumbnailImageForListType"),r=$alt.qsa(".bookThumbnailBoxForListType"),p=$alt.qsa(".bookTitleForListType"),a=$alt.qsa(".bookDetailButtonForListType"),h=($alt.qsa(".bookScrapButton"),$alt.qsa(".comboBoxElement")),y=0;y<s.length;y++)console.log(o[y].clientHeight),e.screenSize.width<t.responsivePointMobile?(n[y].style.width="119px",n[y].style.height="160px",s[y].style.width="120px",r[y].style.height="200px",p[y].style.marginLeft="135px",o[y].style.fontSize="13px",o[y].style.width="95%",o[y].style.overflowY="auto",o[y].style.height="110px",s[y].style.top="-165px",a[y].style.top="-1px",a[y].style.height="35px",a[y].style.fontSize="13px",a[y].style.lineHeight="28px",i=a[y].querySelector(".bookDetailInfo"),i&&(i.style.fontSize="10px",i.style.lineHeight="12px",i.style.width="80px"),l=a[y].querySelector(".bookDetailText"),l&&(l.style.lineHeight="13px",l.style.marginTop="6px"),h[y]&&(h[y].style.top="25px")):e.screenSize.width>=t.responsivePointMobile&&e.screenSize.width<=t.responsivePointTablet?(n[y].style.width="149px",n[y].style.height="200px",s[y].style.width="150px",r[y].style.height="250px",p[y].style.marginLeft="180px",o[y].style.fontSize="16px",o[y].style.width="97%",o[y].style.overflowY="auto",o[y].style.height="auto",s[y].style.top=-+(o[y].clientHeight+33)+"px",a[y].style.top="-12px",a[y].style.height="45px",a[y].style.fontSize="16px",a[y].style.lineHeight="38px",i=a[y].querySelector(".bookDetailInfo"),i&&(i.style.fontSize="12px",i.style.lineHeight="15px",i.style.width="100px"),l=a[y].querySelector(".bookDetailText"),l&&(l.style.lineHeight="15px",l.style.marginTop="9px"),h[y]&&(h[y].style.top="27px")):(n[y].style.width="149px",n[y].style.height="200px",s[y].style.width="150px",r[y].style.height="250px",p[y].style.marginLeft="180px",o[y].style.fontSize="16px",o[y].style.width="98%",o[y].style.overflowY="auto",o[y].style.height="auto",s[y].style.top=-+(o[y].clientHeight+33)+"px",a[y].style.top="-12px",a[y].style.height="45px",a[y].style.fontSize="16px",a[y].style.lineHeight="38px",i=a[y].querySelector(".bookDetailInfo"),i&&(i.style.fontSize="12px",i.style.lineHeight="15px",i.style.width="100px"),l=a[y].querySelector(".bookDetailText"),l&&(l.style.lineHeight="15px",l.style.marginTop="9px"),h[y]&&(h[y].style.top="27px"))},responsiveSlide:function(e,t){console.log("--> isShowingSlide: ",$DT2017.core.isShowingSlide);var i=$alt.qs(".slideMenuBox"),l=$alt.qs(".slideTel"),s=$alt.qs(".slideTitle");this.screenSize.width>this.screenSize.height?this.screenSize.width<=this.responsivePointHiDPI.smallMobile?(i.style.width="60%",l.style.fontSize="11px",s.style.left="60px"):i.style.width="45%":this.screenSize.width<this.responsivePointHiDPI.mobile?(i.style.width="100%",l.style.fontSize="12px",s.style.left="60px"):i.style.width="75%"},responsiveBookDetailViewHiDPI:function(){console.log(">> isShowingBookDetailView ------------------- ",$DT2017.core.isShowingBookDetailView);var e=$alt.qs(".bookDetailViewThumbnail"),t=$alt.qs(".bookDetailDescriptionTitle"),i=$alt.qs(".bookDetailDescriptionBox"),l=$alt.qs(".classDataTable"),s=$alt.qsa(".classDataTableTr"),o=$alt.qs(".bookDetailViewBox"),n=$alt.qsa(".widthNumber"),r=$alt.qsa(".classDataTableViewer"),p=$alt.qs(".bookDetailViewInfoContainer"),a=$alt.qs(".classDataContainer"),h=$alt.qs(".widthView"),y=function(){if(p.style.width="100%",p.style.display="table",e.style.position="relative",e.style.width="130px",o.style.margin="5px",t.style.fontSize="16px",i.style.fontSize="12px",l&&(l.style.fontSize="12px"),s)for(var y=0;y<s.length;y++)s[y].style.fontSize="12px";for(var y=0;y<n.length;y++)n[y].style.display="table-cell";for(var y=0;y<r.length;y++)if("store"===$DT2017.core.currentPageMode){var x=r[y].getAttribute("data-text");x&&(r[y].innerHTML=x,r[y].style.fontSize="13px")}else r[y].innerHTML='<img src="./images/bookDetailView/viewerOpen.png">';t.innerHTML=$alt.cuttingString(22,t.innerHTML),a&&(a.style.width="100%"),h&&("store"===$DT2017.core.currentPageMode?h.style.minWidth="13px":h.style.minWidth="30px")},x=function(){if(p.style.width="100%",p.style.display="table",e.style.width="160px",e.style.height="auto",e.style.position="none",e.style.left="0px",e.style.marginLeft="0px",o.style.margin="10px",t.style.fontSize="20px",i.style.fontSize="14px",l&&(l.style.fontSize="14px"),s)for(var h=0;h<s.length;h++)s[h].style.fontSize="14px";for(var h=0;h<n.length;h++)n[h].style.display="table-cell";for(var h=0;h<r.length;h++){var y=r[h].getAttribute("data-text");y&&(r[h].innerHTML=y,r[h].style.fontSize="16px")}t.innerHTML=$alt.cuttingString(42,t.innerHTML),a&&(a.style.width="100%")},c=function(){if(p.style.width="45%",p.style.display="inline-block",e.style.width="200px",e.style.height="auto",e.style.position="none",e.style.left="0px",e.style.marginLeft="0px",o.style.margin="12px",t.style.fontSize="25px",i.style.fontSize="16px",l&&(l.style.fontSize="16px"),s)for(var h=0;h<s.length;h++)s[h].style.fontSize="16px";for(var h=0;h<n.length;h++)n[h].style.display="table-cell";for(var h=0;h<r.length;h++){var y=r[h].getAttribute("data-text");y&&(r[h].innerHTML=y,r[h].style.fontSize="16px")}t.innerHTML=$alt.cuttingString(56,t.innerHTML),a&&(a.style.width="55%")};this.screenSize.width>this.screenSize.height?this.screenSize.width<=this.responsivePointHiDPI.smallMobile?y():c():this.screenSize.width<=this.responsivePointHiDPI.mobile?y():x()},responsiveEmptyBookShelfContainer:function(){var e=$alt.qs(".emptyBookShelfContainer");e&&(e.style.height=$DT2017.core.contentsArea.clientHeight-25+"px");var t=$alt.qs(".storeBgContainer");t&&(t.style.height=$DT2017.responsive.screenSize.height-95+"px")}};return e}();