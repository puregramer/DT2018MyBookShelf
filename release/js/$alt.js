"use strict";function Dragdrop(e){this.element=e,this.parentElement=window,this.createDragdrop()}function Sound(e){var t=this;t.element=e.element,e.volume&&(t.element.volume=e.volume),e.loop&&(t.element.loop=e.loop),t.endSound=function(){t.element.removeEventListener("ended",t.endSound),e.callBack&&e.callBack()},t.loadAndPlay=function(){t.element.removeEventListener("loadeddata",t.loadAndPlay),t.element.removeEventListener("ended",t.endSound),t.element.addEventListener("ended",t.endSound),e.autoPlay&&t.element.play()},t.setSrc=function(e){t.element.src=e,t.element.addEventListener("loadeddata",t.loadAndPlay),t.element.load()},t.seek=function(){return t.element.currentTime},t.setSrc(e.src)}var $alt=$alt||{};$alt=function(){var e={sound:{},currentAnswer:null,currentAnswerText:null,qs:function(e){return document.querySelector(e)},qsa:function(e){return document.querySelectorAll(e)},ce:function(e){var t=document.createElement(e.tag);return e.id&&t.setAttribute("id",e.id),e["class"]&&(t.className=e["class"]),e.src&&(t.src=e.src),e.html&&(t.innerHTML=e.html),e.targetElement.appendChild(t),e.callBack&&e.callBack(),t},cn:function(e){var t=document.createTextNode(e.text);return e.targetElement.appendChild(t),e.callBack&&e.callBack(),t},documentOnloaded:function(e){function t(){window.removeEventListener("load",t,!1),e()}window.document&&("complete"===window.document.readyState?setTimeout(t):window.addEventListener("load",t,!1))},loadScriptFile:function(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=function(){t()}),document.head.appendChild(n)},loadScriptList:function(e,t){function n(){o===e.length&&t()}for(var o=0,a=0;a<e.length;a++){console.log("$> script load : "+e[a]);var i=document.createElement("script");i.type="text/javascript",i.src=e[a],i.onload=function(){o++,n()},document.head.appendChild(i)}},cuttingString:function(e,t){return t.length>e&&(t=t.substring(0,e)+"..."),t},getURLParameter:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]==e)return a[1]}},promiseCount:0,createPromise:function(){var e=++this.promiseCount;console.log("--> createPromise: ",e);var t=new Promise(function(t,n){t(e)});return t},initRequestAnimationFrame:function(){window.requestAFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),window.cancelAFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(e){window.clearTimeout(e)}}(),console.log("$> init requestAnimationFrame : ",window.requestAFrame)},initDragDrop:function(e){new Dragdrop(e)},addSound:function(e){var t=this.ce({tag:"audio",id:e.id,targetElement:document.body});t.style.display="none",this.sound[e.id]=new Sound({id:e.id,element:t,src:e.src,autoPlay:e.autoPlay,volume:e.volume,loop:e.loop,callBack:function(){e.callBack&&e.callBack()}}),console.log("---------------------------"),console.log(this.sound[e.id]),console.log($alt.sound),console.log("---------------------------")},initLocalStorage:function(e){try{var t=window.localStorage.getItem(e.localStorageName);if(!t){var n={};n[e.localStorageName]=[],window.localStorage.setItem(e.localStorageName,JSON.stringify(n))}}catch(o){console.log(o)}},removeLocalStorage:function(e){try{var t=window.localStorage.getItem(e.localStorageName);t||window.localStorage.removeItem(e.localStorageName)}catch(n){console.log(n)}},insertLocalStorageData:function(e){try{var t=JSON.parse(window.localStorage.getItem(e.localStorageName));t[e.localStorageName].push({uid:e.uid,frameType:e.frameType,page:e.page}),window.localStorage.setItem("dataLink",JSON.stringify(t))}catch(n){console.log(n)}},openWindowByparam:function(e){window.open(e.url,"_blank",e.winOptions)},generateUID:function(){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t},getTimeZoneDate:function(){var e=new Date;return e=e.toISOString(),e=e.split("."),e[0]+"Z"},detect:{regexCheck:function(e){return e.test(navigator.userAgent)},isWindows:function(){return this.regexCheck(/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i)},isWinRT:function(){return this.regexCheck(/(windows)\snt\s6\.2;\s(arm)/i)},isWin10:function(){return this.regexCheck(/(edge)\/((\d+)?[\w\.]+)/i)},isiOS:function(){return this.regexCheck(/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i)},isMac:function(){return this.regexCheck(/(macintosh|mac(?=_powerpc)\s)/i)},isAndroid:function(){return this.regexCheck(/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i)},isLinux:function(){return this.regexCheck(/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i)},getPlatform:function(){var e;return this.isWindows()&&(e="WIN"),this.isWin10()&&(e="RT"),this.isiOS()&&(e="IOS"),this.isMac()&&(e="MAC"),this.isAndroid()&&(e="ANDROID"),this.isLinux()&&(e="LINUX"),e}},toDateTimeString:function(e){e=e instanceof Date?e:this.parseDate(e);var t=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return this.toDateString(e)+" "+(t<10?"0":"")+t+":"+(n<10?"0":"")+n+":"+(o<10?"0":"")+o},addSwipeEvent:function(e){var t,n,o,a,i,r,c,l=50,s=100,d=300;e.targetElement.addEventListener("touchstart",function(e){var a=e.changedTouches[0];t="none",n=a.pageX,o=a.pageY,c=(new Date).getTime()},!1),e.targetElement.addEventListener("touchmove",function(e){},!1),e.targetElement.addEventListener("touchend",function(u){var m=u.changedTouches[0];a=m.pageX-n,i=m.pageY-o,r=(new Date).getTime()-c,r<=d&&(Math.abs(a)>=l&&Math.abs(i)<=s?t=a<0?"left":"right":Math.abs(i)>=l&&Math.abs(a)<=s&&(t=i<0?"up":"down")),e.callBack(t)},!1)}};return e}(),Dragdrop.prototype.createDragdrop=function(){var e=this,t=function(t){t.preventDefault();var o=t;t.touches&&(o=t.touches.item(0)),e.offY=o.clientY-e.element.offsetTop,e.offX=o.clientX-e.element.offsetLeft,this.style.zIndex=100,e.parentElement.addEventListener("mousemove",n,!0),e.parentElement.addEventListener("touchmove",n,!0)},n=function(t){t.preventDefault();var n=t;t.touches&&(n=t.touches.item(0)),e.element.style.position="absolute",e.newY=n.clientY-e.offY,e.newX=n.clientX-e.offX,e.element.style.left=e.newX+"px",e.element.style.top=e.newY+"px"},o=function(t){var o=t;t.touches&&(o=t.changedTouches[0]),o&&$alt.checkBoundingCircle({dragElement:this,x:o.clientX,y:o.clientY,left:e.element.offsetLeft,top:e.element.offsetTop}),this.style.zIndex=1,e.parentElement.removeEventListener("mousemove",n,!0),e.parentElement.removeEventListener("touchmove",n,!0)};e.element.addEventListener("mousedown",t,!1),e.element.addEventListener("touchstart",t,!1),e.element.addEventListener("mouseup",o,!1),e.element.addEventListener("touchend",o,!1)};